{"ast":null,"code":"import React from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useCart}from'../contexts/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{currentUser,logout}=useAuth();const{getCartItemsCount}=useCart();const navigate=useNavigate();const location=useLocation();const handleLogout=()=>{logout();navigate('/');};// Ki·ªÉm tra xem c√≥ ƒëang ·ªü trang admin kh√¥ng\nconst isAdminPage=location.pathname.startsWith('/admin');const isAdmin=(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin';return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand\",to:isAdmin&&isAdminPage?\"/admin\":\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",style:{height:\"50px\",marginRight:\"10px\"}}),\"BAOBAO \",isAdmin&&isAdminPage&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger ms-2\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[isAdmin&&isAdminPage?/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/admin\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/admin/products\",children:\"S\\u1EA3n ph\\u1EA9m\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/admin/orders\",children:\"\\u0110\\u01A1n h\\xE0ng\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/admin/categories\",children:\"Danh m\\u1EE5c\"})})]}):/*#__PURE__*//* Menu cho User */_jsxs(\"ul\",{className:\"navbar-nav me-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/products\",children:\"S\\u1EA3n ph\\u1EA9m\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/categories\",children:\"Danh m\\u1EE5c\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[!isAdmin||!isAdminPage?/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link position-relative\",to:\"/cart\",children:[\"\\uD83D\\uDED2 Gi\\u1ECF h\\xE0ng\",getCartItemsCount()>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cart-badge\",children:getCartItemsCount()})]})}):null,currentUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-link dropdown-toggle btn btn-link\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",style:{border:'none',color:'inherit'},children:currentUser.name}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",children:[isAdmin&&isAdminPage?/*#__PURE__*//* Menu Admin */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/\",children:\"\\uD83C\\uDFE0 V\\u1EC1 trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})})]}):/*#__PURE__*//* Menu User */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/profile\",children:\"H\\u1ED3 s\\u01A1\"})}),isAdmin&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/admin\",children:\"Qu\\u1EA3n tr\\u1ECB\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:handleLogout,children:\"\\u0110\\u0103ng xu\\u1EA5t\"})})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/register\",children:\"\\u0110\\u0103ng k\\xFD\"})})]})]})]})]})});};export default Navbar;","map":{"version":3,"names":["React","Link","useNavigate","useLocation","useAuth","useCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","currentUser","logout","getCartItemsCount","navigate","location","handleLogout","isAdminPage","pathname","startsWith","isAdmin","role","className","children","to","src","style","height","marginRight","type","id","border","color","name","onClick"],"sources":["D:/ThucTapDN/badminton_shop/frontend/src/components/Navbar.js"],"sourcesContent":["import React from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useCart } from '../contexts/CartContext';\r\n\r\nconst Navbar = () => {\r\n  const { currentUser, logout } = useAuth();\r\n  const { getCartItemsCount } = useCart();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/');\r\n  };\r\n\r\n  // Ki·ªÉm tra xem c√≥ ƒëang ·ªü trang admin kh√¥ng\r\n  const isAdminPage = location.pathname.startsWith('/admin');\r\n  const isAdmin = currentUser?.role === 'admin';\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container\">\r\n        <Link className=\"navbar-brand\" to={isAdmin && isAdminPage ? \"/admin\" : \"/\"}\r\n          >\r\n            <img src=\"/images/logo.png\" style={{ height: \"50px\", marginRight: \"10px\" }} />\r\n          BAOBAO {isAdmin && isAdminPage && <span className=\"badge bg-danger ms-2\">Admin</span>}\r\n        </Link>\r\n        \r\n        <button \r\n          className=\"navbar-toggler\" \r\n          type=\"button\" \r\n          data-bs-toggle=\"collapse\" \r\n          data-bs-target=\"#navbarNav\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        \r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          {/* Menu cho Admin */}\r\n          {isAdmin && isAdminPage ? (\r\n            <ul className=\"navbar-nav me-auto\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/admin\">Dashboard</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/admin/products\">S·∫£n ph·∫©m</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/admin/orders\">ƒê∆°n h√†ng</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/admin/categories\">Danh m·ª•c</Link>\r\n              </li>\r\n            </ul>\r\n          ) : (\r\n            /* Menu cho User */\r\n            <ul className=\"navbar-nav me-auto\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\">Trang ch·ªß</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/products\">S·∫£n ph·∫©m</Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/categories\">Danh m·ª•c</Link>\r\n              </li>\r\n            </ul>\r\n          )}\r\n          \r\n          <ul className=\"navbar-nav\">\r\n            {/* Ch·ªâ hi·ªÉn th·ªã gi·ªè h√†ng cho user */}\r\n            {!isAdmin || !isAdminPage ? (\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link position-relative\" to=\"/cart\">\r\n                  üõí Gi·ªè h√†ng\r\n                  {getCartItemsCount() > 0 && (\r\n                    <span className=\"cart-badge\">{getCartItemsCount()}</span>\r\n                  )}\r\n                </Link>\r\n              </li>\r\n            ) : null}\r\n            \r\n            {currentUser ? (\r\n              <>\r\n                <li className=\"nav-item dropdown\">\r\n                  <button \r\n                    className=\"nav-link dropdown-toggle btn btn-link\" \r\n                    id=\"navbarDropdown\" \r\n                    role=\"button\" \r\n                    data-bs-toggle=\"dropdown\"\r\n                    style={{ border: 'none', color: 'inherit' }}\r\n                  >\r\n                    {currentUser.name}\r\n                  </button>\r\n                  <ul className=\"dropdown-menu\">\r\n                    {isAdmin && isAdminPage ? (\r\n                      /* Menu Admin */\r\n                      <>\r\n                        <li><Link className=\"dropdown-item\" to=\"/\">üè† V·ªÅ trang ch·ªß</Link></li>\r\n                        <li><hr className=\"dropdown-divider\" /></li>\r\n                      </>\r\n                    ) : (\r\n                      /* Menu User */\r\n                      <>\r\n                        <li><Link className=\"dropdown-item\" to=\"/profile\">H·ªì s∆°</Link></li>\r\n                        {isAdmin && (\r\n                          <li><Link className=\"dropdown-item\" to=\"/admin\">Qu·∫£n tr·ªã</Link></li>\r\n                        )}\r\n                        <li><hr className=\"dropdown-divider\" /></li>\r\n                      </>\r\n                    )}\r\n                    <li>\r\n                      <button className=\"dropdown-item\" onClick={handleLogout}>\r\n                        ƒêƒÉng xu·∫•t\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n                </li>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/login\">ƒêƒÉng nh·∫≠p</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/register\">ƒêƒÉng k√Ω</Link>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}